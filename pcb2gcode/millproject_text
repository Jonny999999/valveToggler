# === USAGE ===
# simply run pcb2gcode in terminal while being in this folder.
# pcb2gcode will use "millproject" in current folder for parameters by default
#
# === Notes ===
# web based gcode viewer:
# https://ncviewer.com/

# Note for text milling / negative offset the output processed-final.svg is not useful since the mill lines are hidden under the track lines


# notes about kicad export:
# - dont tick "use gerber X2 format (recommended)" to prevent many unsupported warnings
# - dont tick unnecessary plot xx options e.g. "plot footprint text" it might cause hangup
# - if oval holes are present select "Use alternative drill mode" option in generate drill files menu


# === CONFIG ===
# Configuration file generated by pcb2gcodeGUI version 0.1 on Wed Apr 6 15:40:16 2022
# stopped using gui and customized parameters manually since then...


#note: in/out filepaths are added by the run-pcb2gcode.sh script now, thus commented out here:
  #back=../export/V2.1_board-ecar_isolated-B_Cu.gbr
  #front=../export/V2.1_board-ecar_isolated-F_Cu.gbr
  #outline=../export/V2.1_board-ecar_isolated-Edge_Cuts.gbr
  ##note: running for each drill file separately and merging the gcode manually (4 mounting holes are in a separate gerber file)
  #drill=../export/V2.1_board-ecar_isolated-PTH.drl
  ##drill=../export/V2.1_board-ecar_isolated-NPTH.drl
  #output-dir=./out

# Common options
metric=true
metricoutput=true
nog64=false

#set optimized to default value, because when it was set to 0 (disable) it caused crash (runs till ram full) for some reason, since adding text to center of pcb ==> set to default
# try around with this value, since too large value also caused deadlock and ram filling up sometimes.
#optimise=0.00000254 #default
optimise=0.00001 #reduced resolution for no hangup using gerber file with large amount of text

backtrack=0 #if default/undefined caused unwanted moves in copper without retracting, especially at letters (seen in gcode viewer) - thus disabled this feature
tile-x=1
tile-y=1
tolerance=0.0500
zchange=30.0000
zchange-absolute=false
zero-start=true

zsafe=1.8 #2.6 seems unnecessary high
# head height d1,7mm screw: 1.2mm
# head height d2,2mm torx screw: 1.8mm


# Mill options
extra-passes=0
mill-feed=400 #default 600mm/min
mill-speed=20000
mill-vertfeed=200
voronoi=false
######################################################
offset=-0.149 #text line width is 0.3 so offset -0.14 is minimun otherwise crash
#zwork=-0.2000 #using 60degree cutter resulted in ~0.42mm line
#zwork=-0.300 #using 45degree cutter resulted in ~0.4mm line
#zwork=-0.400 #using 30degree cutter calculates to ~0.2mm line
zwork=-0.200
######################################################
mill-infeed=0.3 #maximum cutting depth per pass (multiple passes when zwork larger)



# Outline options
bridges=1.0000
bridgesnum=3
cut-feed=200
cut-infeed=0.5000
cut-side=back
cut-speed=20000
cut-vertfeed=60
cutter-diameter=1.0000
fill-outline=true
zbridges=-0.9000
zcut=-1.9000 #actual: 1.7


